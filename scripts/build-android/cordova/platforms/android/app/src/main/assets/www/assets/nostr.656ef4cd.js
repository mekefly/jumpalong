import{bJ as t,a4 as a,a5 as d}from"./index.de60ca02.js";function i(e){try{const n=t.decode(e);switch(n.type){case"nprofile":return n.data;case"npub":return{pubkey:n.data};default:return null}}catch{try{return t.npubEncode(e),{pubkey:e}}catch{return null}}}function p(e){if(!e)return null;if(l(e))return e;try{const n=t.decode(e);return n.type==="nsec"?n.data:null}catch{return null}}function l(e){try{const n=t.nsecEncode(e);return t.decode(n).data===e}catch{return!1}}function s(e){return t.nprofileEncode(e)}function y(e){const n=i(e);return n?s(n):null}function h(e){try{const n=t.decode(e);switch(n.type){case"nevent":return n.data;case"note":return{id:n.data,relays:[]};default:return null}}catch{try{return t.noteEncode(e),{id:e,relays:[]}}catch{return null}}}function E(e,n){var o;const r=new Set;for(const c of e)for(const u of n)a(r,(o=u[c])!=null?o:[]);return r}function b(e,n){const r=d(e.tags);return e.tags.forEach(o=>{(o[0]==="e"||o[0]==="p")&&o[2]&&r.add(o[2])}),t.neventEncode({id:e.id,relays:[...r,...n!=null?n:[]]})}export{i as a,y as b,p as d,E as g,b as n,h as t};
